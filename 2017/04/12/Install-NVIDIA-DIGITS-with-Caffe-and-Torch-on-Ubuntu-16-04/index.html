<!DOCTYPE html>
<html >
<head>
    <!-- meta -->
    <meta charset="utf-8">


 <!--    <meta name="robots" content="noindex, nofollow"/> -->
    <meta name="robots" content="noarchive"/>
    <meta name="robots" content="nocache"/>
<!--     <meta name="robots" content="nosnippet"> -->
    <meta name="robots" content="noodp">
    <meta name="robots" content="noimageindex">

<!--     <meta name="googlebot" content="noindex, nofollow"/> -->
    <meta name="googlebot" content="noarchive"/>
    <meta name="googlebot" content="nocache"/>

<!--     <meta name="bingbot" content="noindex, nofollow"/> -->
    <meta name="bingbot" content="noarchive"/>
    <meta name="bingbot" content="nocache"/>


    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Let’s install NVIDIA DIGITS on Ubuntu 16.04. We’ll use DIGITS with both Caffe and Torch. InstructionsPrepare the environment12345#update package managersudo apt-get update &amp;amp;&amp;amp; s">
<meta name="keywords" content="ai">
<meta property="og:type" content="article">
<meta property="og:title" content="Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04">
<meta property="og:url" content="http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/index.html">
<meta property="og:site_name" content="adon phillips">
<meta property="og:description" content="Let’s install NVIDIA DIGITS on Ubuntu 16.04. We’ll use DIGITS with both Caffe and Torch. InstructionsPrepare the environment12345#update package managersudo apt-get update &amp;amp;&amp;amp; s">
<meta property="og:updated_time" content="2017-04-13T16:20:14.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04">
<meta name="twitter:description" content="Let’s install NVIDIA DIGITS on Ubuntu 16.04. We’ll use DIGITS with both Caffe and Torch. InstructionsPrepare the environment12345#update package managersudo apt-get update &amp;amp;&amp;amp; s">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicons/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicons/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    

    <!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">


    <!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-82184893-2', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'adonphillips-com';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>



</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/research">Research</a></li>
         
          <li><a href="/opinion/">Opinion</a></li>
         
          <li><a href="/notes/">Notes</a></li>
         
          <li><a href="/contact/">Contact</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&text=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&title=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&is_video=false&description=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04&body=Check out this article: http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&title=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&title=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&title=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&title=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&name=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Instructions"><span class="toc-number">1.</span> <span class="toc-text">Instructions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Prepare-the-environment"><span class="toc-number">1.1.</span> <span class="toc-text">Prepare the environment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-NVIDIA-GPU-drivers"><span class="toc-number">1.2.</span> <span class="toc-text">Install NVIDIA GPU drivers</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Install-from-the-repository"><span class="toc-number">1.2.1.</span> <span class="toc-text">Install from the repository</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Install-manually-from-the-NVIDIA-site-download"><span class="toc-number">1.2.2.</span> <span class="toc-text">Install manually from the NVIDIA site download</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-NVIDIA-CUDA-Toolkit"><span class="toc-number">1.3.</span> <span class="toc-text">Install NVIDIA CUDA Toolkit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-NVIDIA-cuDNN"><span class="toc-number">1.4.</span> <span class="toc-text">Install NVIDIA cuDNN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-Caffe-NVIDIA-caffe"><span class="toc-number">1.5.</span> <span class="toc-text">Install Caffe (NVIDIA/caffe)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-Torch-Optional-for-DIGITS"><span class="toc-number">1.6.</span> <span class="toc-text">Install Torch (Optional for DIGITS)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-DIGITS"><span class="toc-number">1.7.</span> <span class="toc-text">Install DIGITS</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04<br/>
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">adon phillips</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-04-12T20:06:53.000Z" itemprop="datePublished">2017-04-12</time>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/ai/">ai</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    
<meta name="robots" content="noindex, nofollow">
<meta name="robots" content="noarchive">
<meta name="robots" content="nocache">
<meta name="robots" content="nosnippet">
<meta name="robots" content="noodp">
<meta name="robots" content="noimageindex">

<meta name="googlebot" content="noindex, nofollow">
<meta name="googlebot" content="noarchive">
<meta name="googlebot" content="nocache">

<meta name="bingbot" content="noindex, nofollow">
<meta name="bingbot" content="noarchive">
<meta name="bingbot" content="nocache">

<p>Let’s install <a href="https://github.com/NVIDIA/DIGITS" target="_blank" rel="noopener">NVIDIA DIGITS</a> on Ubuntu 16.04. We’ll use DIGITS with both <a href="https://github.com/BVLC/caffe" target="_blank" rel="noopener">Caffe</a> and <a href="https://github.com/torch/torch7" target="_blank" rel="noopener">Torch</a>.</p>
<h2 id="Instructions"><a href="#Instructions" class="headerlink" title="Instructions"></a>Instructions</h2><h3 id="Prepare-the-environment"><a href="#Prepare-the-environment" class="headerlink" title="Prepare the environment"></a>Prepare the environment</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#update package manager</span></div><div class="line">sudo apt-get update &amp;&amp; sudo apt-get upgrade &amp;&amp; sudo apt-get dist-upgrade</div><div class="line">sudo shutdown -r now</div><div class="line"><span class="comment">#install compiler</span></div><div class="line">sudo apt-get install make cmake gcc g++ -y</div></pre></td></tr></table></figure>
<h3 id="Install-NVIDIA-GPU-drivers"><a href="#Install-NVIDIA-GPU-drivers" class="headerlink" title="Install NVIDIA GPU drivers"></a>Install NVIDIA GPU drivers</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#Remove existing nvidia drivers etc.</span></div><div class="line">sudo apt-get purge nvidia*</div></pre></td></tr></table></figure>
<p>You may choose to install the drivers from the nvidia repo through apt-get or download and install manually to ensure the latest version from the short lived branch. Either way you should check the <a href="http://www.nvidia.ca/object/unix.html" target="_blank" rel="noopener">NVIDIA drivers site</a> to check the latest version / version required by your GPU.</p>
<h4 id="Install-from-the-repository"><a href="#Install-from-the-repository" class="headerlink" title="Install from the repository"></a>Install from the repository</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#Add NVIDIA drivers repository</span></div><div class="line">sudo add-apt-repository ppa:graphics-drivers/ppa</div><div class="line">sudo apt-get update</div><div class="line"><span class="comment">#Check the repo for the version you are after e.g.</span></div><div class="line">sudo apt search nvidia | grep nvidia-375</div><div class="line"><span class="comment">#Install the driver</span></div><div class="line">sudo apt-get install nvidia-375 nvidia-settings -y</div><div class="line">sudo reboot</div><div class="line">sudo apt-get install ubuntu-desktop</div><div class="line">sudo reboot</div><div class="line"><span class="comment">#check the driver version </span></div><div class="line">nvidia-smi</div></pre></td></tr></table></figure>
<h4 id="Install-manually-from-the-NVIDIA-site-download"><a href="#Install-manually-from-the-NVIDIA-site-download" class="headerlink" title="Install manually from the NVIDIA site download"></a>Install manually from the NVIDIA site download</h4><p>Visit the <a href="http://www.nvidia.ca/object/unix.html" target="_blank" rel="noopener">NVIDIA drivers site</a> and copy the appropriate run file download address (here we use the .run file)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> ~/downloads/</div><div class="line"><span class="comment">#download the run file</span></div><div class="line">wget http://us.download.nvidia.com/XFree86/Linux-x86_64/378.13/NVIDIA-Linux-x86_64-378.13.run</div><div class="line"><span class="comment">#make the download executable</span></div><div class="line">chmod +xr NVIDIA-Linux-x86_64-378.13.run</div></pre></td></tr></table></figure>
<p>This can’t be installed from inside the desktop environment. Drop to shell with Ctrl+Alt+F1</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">sudo service lightdm stop</div><div class="line">sudo init 5</div><div class="line">sudo ./NVIDIA-Linux-x86_64-378.13.run --dkms</div><div class="line">sudo reboot</div><div class="line"><span class="comment">#check the driver version </span></div><div class="line">nvidia-smi</div></pre></td></tr></table></figure>
<h3 id="Install-NVIDIA-CUDA-Toolkit"><a href="#Install-NVIDIA-CUDA-Toolkit" class="headerlink" title="Install NVIDIA CUDA Toolkit"></a>Install NVIDIA CUDA Toolkit</h3><p>Go to the <a href="https://developer.nvidia.com/cuda-toolkit" target="_blank" rel="noopener">CUDA Downloads</a> site and get the download URL for the toolkit.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> ~/downloads/</div><div class="line">wget https://developer.nvidia.com/compute/cuda/8.0/Prod2/local_installers/cuda_8.0.61_375.26_linux-run</div><div class="line">chmod +xr NVIDIA-Linux-x86_64-378.13.run</div><div class="line"><span class="comment">#run the installer. Use the switches to hide the five minute scroll through the license.</span></div><div class="line">sudo ./cuda_8.0.44_linux-run -override -silent</div></pre></td></tr></table></figure></p>
<h3 id="Install-NVIDIA-cuDNN"><a href="#Install-NVIDIA-cuDNN" class="headerlink" title="Install NVIDIA cuDNN"></a>Install NVIDIA cuDNN</h3><p>The “Deep Neural Network” library requires a membership to the NVIDIA developer program. If you don’t have a membership you will need to go to the <a href="https://developer.nvidia.com/cudnn" target="_blank" rel="noopener">cuDNN Site</a> to sign up. From the <a href="https://developer.nvidia.com/cudnn" target="_blank" rel="noopener">cuDNN Site</a> copy the download URL.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#get the download archive</span></div><div class="line">wget https://developer.nvidia.com/compute/machine-learning/cudnn/secure/v6/prod/8.0_20170307/cudnn-8.0-linux-x64-v6.0-tgz</div><div class="line"><span class="comment">#extract the archive</span></div><div class="line">tar -xzvf cudnn-8.0-linux-x64-v5.1.tgz</div><div class="line"><span class="comment">#set up the directory structure and copy files</span></div><div class="line">sudo mkdir /usr/<span class="built_in">local</span>/cuda</div><div class="line">sudo mkdir /usr/<span class="built_in">local</span>/cuda/lib64/</div><div class="line">sudo mkdir /usr/<span class="built_in">local</span>/cuda/include</div><div class="line"><span class="built_in">cd</span> cuda/lib64</div><div class="line">sudo cp ./cuda/lib64 /usr/<span class="built_in">local</span>/cuda/lib64</div><div class="line">sudo cp ./cuda/include  /usr/<span class="built_in">local</span>/cuda/include</div><div class="line">sudo chmod a+r /usr/<span class="built_in">local</span>/cuda/include/cudnn.h /usr/<span class="built_in">local</span>/cuda/lib64/libcudnn*</div><div class="line">sudo reboot</div><div class="line"><span class="comment">#copy files to the cuda-8.0 directory - you could probably use a symbolic link here instead.</span></div><div class="line">sudo cp -P include/cudnn.h /usr/<span class="built_in">local</span>/cuda-8.0</div><div class="line">sudo cp -P lib64/libcudnn* /usr/<span class="built_in">local</span>/cuda-8.0/lib64/</div><div class="line">sudo chmod a+r /usr/<span class="built_in">local</span>/cuda-8.0/lib64/libcudnn*</div></pre></td></tr></table></figure></p>
<p>Add the required variables to your .bashrc</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">'export PATH=$PATH:/usr/local/cuda-8.0/bin'</span> &gt;&gt; ~/.bashrc</div><div class="line"><span class="built_in">echo</span> <span class="string">'export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda-8.0/lib64'</span> &gt;&gt; ~/.bashrc</div><div class="line"><span class="built_in">source</span> .bashrc</div><div class="line"><span class="comment">#run the oft forgotten ldconfig</span></div><div class="line">ldconfig -p | grep cuda</div><div class="line"><span class="comment">#check </span></div><div class="line">nvcc --version</div></pre></td></tr></table></figure>
<h3 id="Install-Caffe-NVIDIA-caffe"><a href="#Install-Caffe-NVIDIA-caffe" class="headerlink" title="Install Caffe (NVIDIA/caffe)"></a>Install Caffe (NVIDIA/caffe)</h3><p>DIGITS only officially supports the NVIDIA caffe build. The official BVLC/caffe will work in most cases. It is my understanding that the two are mostly the same but there are some specialized cases especially when using batch normalization, and ImageData layers (etc.) the NVIDIA flavor is required.</p>
<p>The <a href="https://github.com/NVIDIA/DIGITS/blob/master/docs/BuildCaffe.md" target="_blank" rel="noopener">Building Caffe instructions</a> are available. You should read those.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#dependencies</span></div><div class="line"><span class="comment">#DIGITS will require these</span></div><div class="line">sudo apt-get install --no-install-recommends git graphviz gunicorn python-dev python-flask python-flaskext.wtf python-gevent python-h5py python-numpy python-pil python-protobuf python-scipy -y</div><div class="line"><span class="comment">#Caffe will require these (some overlap)</span></div><div class="line">sudo apt-get install --no-install-recommends build-essential cmake git gfortran libatlas-base-dev libboost-filesystem-dev libboost-python-dev libboost-system-dev libboost-thread-dev libgflags-dev libgoogle-glog-dev libhdf5-serial-dev libleveldb-dev liblmdb-dev libopencv-dev libprotobuf-dev libsnappy-dev protobuf-compiler python-all-dev python-dev python-h5py python-matplotlib python-numpy python-opencv python-pil python-pip python-protobuf python-scipy python-skimage python-sklearn</div><div class="line"><span class="comment">#make the directory for caffe</span></div><div class="line"><span class="built_in">cd</span> ~/</div><div class="line">mkdir caffe-nvidia</div><div class="line"><span class="built_in">export</span> CAFFE_ROOT=~/caffe-nvidia</div><div class="line"><span class="built_in">source</span> ~/.bashrc</div><div class="line">git <span class="built_in">clone</span> https://github.com/NVIDIA/caffe.git <span class="variable">$CAFFE_ROOT</span></div></pre></td></tr></table></figure>
<p>Install PIP if you don’t have it</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install python-pip</div><div class="line">sudo pip install --upgrade pip</div></pre></td></tr></table></figure>
<p>More deps<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo pip install -r <span class="variable">$CAFFE_ROOT</span>/python/requirements.txt</div><div class="line"><span class="comment">#if theres an error try this as per the build instructions from NVIDIA</span></div><div class="line">cat <span class="variable">$CAFFE_ROOT</span>/python/requirements.txt | xargs -n1 sudo pip install</div></pre></td></tr></table></figure></p>
<p>Now build Caffe. Note that if you need to support multiple GPUs you will need to build <a href="https://github.com/NVIDIA/nccl" target="_blank" rel="noopener">NVIDIA NCCL</a> before building caffe.</p>
<p>Skip this if you don’t need NCCL</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#read the NCCL readme first.</span></div><div class="line"><span class="built_in">cd</span> ~/</div><div class="line">git <span class="built_in">clone</span> https://github.com/NVIDIA/nccl.git</div><div class="line"><span class="built_in">cd</span> nccl</div><div class="line">make CUDA_HOME=/usr/<span class="built_in">local</span>/cuda-8.0/ <span class="built_in">test</span></div><div class="line">sudo make PREFIX=/usr/<span class="built_in">local</span> install</div></pre></td></tr></table></figure>
<p>Now build caffe</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> <span class="variable">$CAFFE_HOME</span></div><div class="line">mkdir build &amp;&amp; <span class="built_in">cd</span> <span class="variable">$_</span></div><div class="line">cmake ..</div><div class="line"><span class="comment">#use 4 cores - adjust for your system.</span></div><div class="line">make --jobs=4</div></pre></td></tr></table></figure>
<h3 id="Install-Torch-Optional-for-DIGITS"><a href="#Install-Torch-Optional-for-DIGITS" class="headerlink" title="Install Torch (Optional for DIGITS)"></a>Install Torch (Optional for DIGITS)</h3><p>TBD</p>
<h3 id="Install-DIGITS"><a href="#Install-DIGITS" class="headerlink" title="Install DIGITS"></a>Install DIGITS</h3><p>You should review the install instructions on the <a href="https://github.com/NVIDIA/DIGITS/blob/master/docs/BuildDigits.md" target="_blank" rel="noopener">DIGITS github page</a>. Since we are installing on 16.04 we’ll need to build from source. If you are on 14.04 you can use the .deb file if you prefer.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#set up the directories etc.</span></div><div class="line"><span class="built_in">cd</span> ~/</div><div class="line">mkdir digits</div><div class="line"><span class="built_in">echo</span> <span class="string">'export CAFFE_HOME=/home/adon/caffe-nvidia'</span> &gt;&gt; ~/.bashrc</div><div class="line"><span class="built_in">echo</span> <span class="string">'export DIGITS_HOME=/home/adon/digits'</span> &gt;&gt; ~/.bashrc</div><div class="line"><span class="built_in">source</span> .bashrc</div><div class="line"><span class="built_in">echo</span> <span class="variable">$CAFFE_HOME</span></div><div class="line"><span class="built_in">echo</span> <span class="variable">$DIGITS_HOME</span></div><div class="line"><span class="comment">#grab the code</span></div><div class="line">git <span class="built_in">clone</span> https://github.com/NVIDIA/DIGITS.git <span class="variable">$DIGITS_HOME</span></div><div class="line"><span class="comment">#install the requirements</span></div><div class="line">sudo pip install -r <span class="variable">$DIGITS_HOME</span>/requirements.txt</div></pre></td></tr></table></figure>
<p>If you need to use plugins run the following:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo pip install <span class="_">-e</span> <span class="variable">$DIGITS_HOME</span></div></pre></td></tr></table></figure></p>
<p>Now you can start the DIGITS server on <a href="http://localhost:5000" target="_blank" rel="noopener">localhost:5000</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./digits-devserver</div></pre></td></tr></table></figure>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/research">Research</a></li>
         
          <li><a href="/opinion/">Opinion</a></li>
         
          <li><a href="/notes/">Notes</a></li>
         
          <li><a href="/contact/">Contact</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Instructions"><span class="toc-number">1.</span> <span class="toc-text">Instructions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Prepare-the-environment"><span class="toc-number">1.1.</span> <span class="toc-text">Prepare the environment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-NVIDIA-GPU-drivers"><span class="toc-number">1.2.</span> <span class="toc-text">Install NVIDIA GPU drivers</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Install-from-the-repository"><span class="toc-number">1.2.1.</span> <span class="toc-text">Install from the repository</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Install-manually-from-the-NVIDIA-site-download"><span class="toc-number">1.2.2.</span> <span class="toc-text">Install manually from the NVIDIA site download</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-NVIDIA-CUDA-Toolkit"><span class="toc-number">1.3.</span> <span class="toc-text">Install NVIDIA CUDA Toolkit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-NVIDIA-cuDNN"><span class="toc-number">1.4.</span> <span class="toc-text">Install NVIDIA cuDNN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-Caffe-NVIDIA-caffe"><span class="toc-number">1.5.</span> <span class="toc-text">Install Caffe (NVIDIA/caffe)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-Torch-Optional-for-DIGITS"><span class="toc-number">1.6.</span> <span class="toc-text">Install Torch (Optional for DIGITS)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install-DIGITS"><span class="toc-number">1.7.</span> <span class="toc-text">Install DIGITS</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&text=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&title=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&is_video=false&description=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04&body=Check out this article: http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&title=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&title=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&title=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&title=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://adonphillips.com/2017/04/12/Install-NVIDIA-DIGITS-with-Caffe-and-Torch-on-Ubuntu-16-04/&name=Install NVIDIA DIGITS with Caffe and Torch on Ubuntu 16.04&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick='$("#toc-footer").toggle();return false;'><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick='$("#share-footer").toggle();return false;'><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick='$("#nav-footer").toggle();return false;'><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2021 Adon Phillips
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/research">Research</a></li>
         
          <li><a href="/opinion/">Opinion</a></li>
         
          <li><a href="/notes/">Notes</a></li>
         
          <li><a href="/contact/">Contact</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>

